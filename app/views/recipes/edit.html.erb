<%= render partial: "recipes/tabs" %>

<nav>
  <ul class="nav nav-pills" style="margin-bottom: 10px;">
    <span class="nav-item navbar-brand"><b>Mode</b></span>
    <%= link_to_active_if action_name == "edit", translated("Graphique"), edit_recipe_path(@recipe), class: "nav-item nav-link" %>
    <%= link_to_active_if action_name == "edit_text", translated("Texte"), edit_text_recipe_path(@recipe), class: "nav-item nav-link" %>
    <%= link_to_active_if action_name == "old_edit", translated("Classic"), old_edit_recipe_path(@recipe), class: "nav-item nav-link" %>
  </ul>
</nav>

<nav>
  <%= link_to 'Show', recipe_path(@recipe) %> |
  <%= link_to 'Validate', validate_recipe_path(@recipe) %> |
  <%= link_to 'Process', do_process_recipe_path(@recipe), method: :patch %> |
  <%= link_to 'Cheat', cheat_recipe_path(@recipe), method: :patch %> |
  <%= link_to 'Fix ingredient numbers', 'TODO', method: :patch %> |
  <%= link_to 'Back', recipes_path %>
</nav>

<div id="recipe-editor">

<div id="root"></div>

<div id="partial-editor" style="display: none;">
  <div id="custom-quill-toolbar" class="ql-toolbar ql-snow" hidden>
    <span class="ql-formats">
      <button type="button" class="ql-bold"><%= image_tag "/icons/type-bold.svg" %></button>
      <button type="button" class="ql-italic"><%= image_tag "/icons/type-italic.svg" %></button>
      <button type="button" class="ql-mark"><b>M</b></button>
    </span>
    <span class="ql-formats">
      <select class="ql-box">
        <option selected>None</option>
        <option value="double">Double</option>
        <option value="solid">Solid</option>
        <option value="dotted">Dotted</option>
      </select>
    </span>
  </div>
  <div id="quill-editor">
    <%= @recipe.text.html_safe if @recipe.text %>
  </div>
</div>

<div style="height: 5em;"></div>
</div>

<%= javascript_pack_tag 'react_recipe_editor' %>
<%= javascript_pack_tag 'quill_editor' %>
